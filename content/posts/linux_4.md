---
title: Linux常用命令
date: 2018-10-05
category: cs
tags: ['linux']
---

## 命令格式与目录处理命令

### 命令格式

`命令 [-选项] [参数]`

```shell
ls -la /etc
```

说明：

1.  个别命令使用不遵循此格式
2.  当有多个选项时，可以写在一起
3.  简化选项与完整选项 `-a` `--all`

### ls

命令名称：`ls`  
命令英文原意：list  
命令所在路径：`/bin/ls`  
执行权限：所有用户  
功能描述：显示目录文件  
选项：

- `-a` all 显示所有文件
- `-l` long 长格式显示
- `-d` directory 显示当前目录信息
- `-i` inode 索引节点，相当于文件的身份证号

P.S. Linux 中以`.`开头的文件是隐藏文件。  
P.S.S. 一个文件只能有一个所有者，所有者是可以变化的。所有组也只能有一个。  
P.S.S.S 文件大小显示单位为字节

![](https://pic.rhinoc.top/15387533954524.jpg)

以文件夹`perl5`为例

```
drwxr-xr-x    5 root    staff    160 Aug 28 12:30 perl5
```

<div class="table-container">

<table>

<thead>

<tr>

<th>文件类型及权限</th>

<th>引用系数</th>

<th>所有者</th>

<th>所有组</th>

<th>文件大小</th>

<th>修改日期</th>

<th>文件名</th>

</tr>

</thead>

<tbody>

<tr>

<td>drwxr-xr-x</td>

<td>5</td>

<td>root</td>

<td>staff</td>

<td>160</td>

<td>Aug 28 12:30</td>

<td>Perl5</td>

</tr>

</tbody>

</table>

</div>

1.  文件类型
    - `-`二进制文件
    - `d`目录
    - `l`软链接文件
    - ……
2.  文件权限
    - `u`所有者（`rwx`）
    - `g`所有组（`r-x`）
    - `o`其他人（`r-x`）
    - `r`读
    - `w`写
    - `x`执行（最高权限）

## 文件处理命令-amp-目录处理命令

### mkdir

命令名称：`mkdir`  
命令英文原意：make directory  
命令所在路径：`/bin/mkdir`  
执行权限：所有用户  
功能描述：创建新目录  
选项：

- `-p` 递归创建（在本身不存在的目录下创建子目录）

[[info]]
|可以同时创建多个目录

### cd

命令名称：`cd`  
命令英文原意：change directory  
命令所在路径：shell 内置  
执行权限：所有用户  
功能描述：切换目录  
选项：

- `..` 回到上一级目录
- `.` 当前目录

### pwd

命令名称：`pwd`  
命令英文原意：print working directory  
命令所在路径：`/bin/pwd`  
执行权限：所有用户  
功能描述：以绝对路径显示当前目录

### rmdir

命令名称：`rmdir`  
命令英文原意：remove empty directories  
命令所在路径：`/bin/rmdir`  
执行权限：所有用户  
功能描述：删除空目录

### cp

命令名称：`cp`  
命令英文原意：copy  
命令所在路径：`/bin/cp`  
执行权限：所有用户  
功能描述：复制文件或目录  
选项：

- `-r` 复制目录
- `-p` 保留文件属性

[[info]]
|_ 几乎所有 Linux 命令的大小写都严格区分  
|_ 可以同时复制多个文件  
|_ 复制后的文件属性会改变（修改时间）  
|_ 复制同时可以改名

### mv

命令名称：`mv`  
命令英文原意：move  
命令所在路径：`/bin/mv`  
执行权限：所有用户  
功能描述：剪切文件、改名

[[info]]
| _ `Ctrl+L`清屏  
| _ 可以同时剪切多个文件

### rm

命令名称：`rm`  
命令英文原意：remove  
命令所在路径：`/bin/rm`  
执行权限：所有用户  
功能描述：删除文件  
选项：

- `-r` 删除目录
- `-f` 强制执行

## 文件处理命令

### touch

命令名称：`touch`  
命令所在路径：`/bin/touch`  
执行权限：所有用户  
功能描述：创建空文件  
选项：

- `-r` 删除目录

[[info]]
|_ 在未指定绝对路径时，Linux 所有操作都在当前目录下执行  
|_ Linux 的文件名几乎可以包括除`/`外所有特殊字符  
|\* Linux 的文件名不建议包含空格，如果要包含空格，需要用双引号`" "`括起来

### touch-1

命令名称：`cat`  
命令所在路径：`/bin/cat`  
执行权限：所有用户  
功能描述：显示文件内容  
选项：

- `-n` 显示行号

[[info]]
|`cat`不适合用来查看长文件

### tac

命令名称：`tac`  
命令所在路径：`/usr/bin/tac`  
执行权限：所有用户  
功能描述：显示文件内容（反向列示）

### more

命令名称：`more`  
命令所在路径：`/bin/more`  
执行权限：所有用户  
功能描述：分页显示文件内容  
指令：

- `Space`/`f` 翻页
- `Enter` 换行
- `q`/`Q` 退出

[[info]]
|_ 帮助信息都是通过`more`进行浏览的  
|_ `more`命令不支持向上翻页

### less

命令名称：`less`  
命令所在路径：`/usr/bin/less`  
执行权限：所有用户  
功能描述：分页显示文件内容（可向上翻页）  
操作：

- `/` 搜索
- `n` 搜索下一个

### head

命令名称：`head`  
命令所在路径：`/usr/bin/head`  
执行权限：所有用户  
功能描述：显示文件前面几行  
选项：

- `-n` 指定行数

[[info]]
|_ 指定行数时，从第一行显示到指定行数  
|_ 未指定行数时，默认显示前 10 行

### tail

命令名称：`tail`  
命令所在路径：`/usr/bin/tail`  
执行权限：所有用户  
功能描述：显示文件后面几行  
选项：

- `-n` 指定行数
- `-f` 动态显示文件末尾内容

[[info]]
|在未指定绝对路径时，Linux 所有操作都在当前目录下执行

## 链接命令

### ln

命令名称：`ln`  
命令英文原意：link  
命令所在路径：`/bin/ln`  
执行权限：所有用户  
功能描述：生成链接文件  
选项：

- `-s` 创建软链接

[[info]]
|默认生成硬链接文件

> **软链接**：类似 Windows 的快捷方式，文件类型及权限为`lrwxrwxrwx`，文件大小很小，有箭头指向。  
> **硬链接**：相当于`cp -p`+同步更新，删除源文件后仍然可以访问，通过 i 节点识别（和源文件有相同的 i 节点），不能跨分区，不能针对目录使用。  
> 注意：每个文件都有对应的 i 节点，一个 i 节点可以映射多个文件

## 权限管理命令

### chmod

命令名称：`chmod`  
命令英文原意：change the permissions mode of a file  
命令所在路径：`/bin/chmod`  
执行权限：所有用户  
功能描述：改变文件或目录权限  
语法：

- `chmod [{ugoa}{+-}{rwx}][目录/文件]`
- `[mode=421][文件或目录]`

选项：

- `-R` 递归修改

> 权限的数字表示：r = 4 w = 2 x = 1 相加得到权限对应数字

<div class="table-container">

<table>

<thead>

<tr>

<th>字符</th>

<th>权限</th>

<th>对文件的含义</th>

<th>对目录的含义</th>

</tr>

</thead>

<tbody>

<tr>

<td>r</td>

<td>读</td>

<td>查看文件内容</td>

<td>可以列出目录中的内容</td>

</tr>

<tr>

<td>w</td>

<td>写</td>

<td>修改文件内容</td>

<td>可以在目录中创建、删除文件</td>

</tr>

<tr>

<td>x</td>

<td>执行</td>

<td>执行文件</td>

<td>可以进入目录</td>

</tr>

</tbody>

</table>

</div>

> **注意**：即便用户对文件没有权限，只要对上级目录有写权限，就能够执行删除文件的操作  
> 目录里的 r 权限和 x 权限是同时出现的

### chown

命令名称：`chown`  
命令英文原意：change file ownership  
命令所在路径：`/bin/chown`  
执行权限：`root`  
功能描述：改变文件或目录的所有者  
语法：`chown [用户][文件或目录]`

### chgrp

命令名称：`chgrp`  
命令英文原意：change file group ownership  
命令所在路径：`/bin/chgrp`  
执行权限：所有用户  
功能描述：改变文件或目录的所有者  
语法：`chown [用户组][文件或目录]`

P.S. 每个用户只能有一个缺省组

### umask

命令名称：`umask`  
命令英文原意：the user file-creation mask  
命令所在路径：shell 内置  
执行权限：所有用户  
功能描述：显示、设置文件的缺省权限  
选项：

- `-S` 以 rwx 形式显示新建文件缺省权限

P.S. 新建文件默认没有可执行权限

### find

命令名称：`find`  
命令所在路径：`/bin/find`  
执行权限：所有用户  
功能描述：文件搜索  
语法：`find [搜索范围][匹配条件]`  
选项：

- `-name` 根据文件名搜索
- `-iname` 根据文件名搜索，不区分大小写
- `-size` 根据文件大小搜索
  - `+n` 查找大于 n 个数据块的文件（1 个数据块=512 字节=0.5K）
  - `-n` 查找小于 n 个数据块的文件
  - `n` 查找等于 n 个数据块的文件
- `-user` 根据文件所有者搜索
- 根据时间属性查找
  - `-amin` 访问时间 access
  - `-cmin` 文件属性改变时间 change
  - `-mmin` 文件内容改变时间 modify
  - 后面接的数字单位为分钟
- `-type` 根据文件类 fdl 型查找
- `-inum` 根据 i 节点查找
- `-a` 且 and 连接多个条件
- `-o` 或 or 连接多个条件
- `-exec [命令] {}\;`/`-ok [命令] {}\;`对搜索结果执行操作  
  P.S. 搜索会占用大量系统资源，不建议使用  
  P.S.S. Linux 是精准搜索，大小写敏感，支持通配符

## 其他搜索命令

### locate

命令名称：`locate`  
命令所在路径：`/usr/bin/locate`  
执行权限：所有用户  
功能描述：在文件资料库中查找文件  
选项：

- `-i` 不区分大小写  
  操作：
- `updatedb` 升级索引库  
  P.S. `locate`和 Windows 下的 Everything 软件一样，是通过索引库查找。  
  P.S.S. 存放在`/tmp/`等临时目录的文件不能被搜索到

### which

命令名称：`which`  
命令所在路径：`/usr/bin/which`  
执行权限：所有用户  
功能描述：搜索命令所在目录及别名信息

### whereis

命令名称：`whereis`  
命令所在路径：`/usr/bin/whereis`  
执行权限：所有用户  
功能描述：搜索命令所在目录及帮助文档路径

### grep

命令名称：`grep`  
命令所在路径：`/bin/grep`  
执行权限：所有用户  
功能描述：在文件中搜寻字串匹配的行并输出  
选项：

- `-i` 不区分大小写
- `-v` 排除指定字串

## 帮助命令

### man

命令名称：`man`  
命令英文原意：manual  
命令所在路径：`/usr/bin/man`  
执行权限：所有用户  
功能描述：获取帮助信息

[[info]]
|_ `/`用来搜索  
|_ `man`有点像`more`和`less`综合一起的使用  
|_ `man`不能接配置文件绝对路径，只能接文件名，否则只显示文件内容  
|_ 如果配置文件和命令重名，`man`优先显示命令的帮助  
|\* `1`表示命令的帮助 `5`表示配置文件的帮助 当命令和配置文件重名时，在`man`后增加相应的参数即可选择性访问

### whatis

命令名称：`whatis`  
命令所在路径：`/usr/bin/whatis`  
执行权限：所有用户  
功能描述：获取命令的简短信息

### apropos

命令名称：`apropos`  
命令所在路径：`/usr/bin/apropos`  
执行权限：所有用户  
功能描述：查看配置文件的简短信息

### —help

命令名称：`—help`  
执行权限：所有用户  
功能描述：把命令的主要选项列举出来

### info

命令名称：`info`  
执行权限：所有用户  
功能描述：类似于`man`，内容有些许不同

### help

命令名称：`info`  
命令所在路径：Shell 内置命令  
执行权限：所有用户  
功能描述：获得 Shell 内置命令的帮助信息

## 用户管理命令

### useradd

命令名称：`useradd`  
命令所在路径：`/usr/sbin/useradd`  
执行权限：root  
功能描述：添加新用户

### passwd

命令名称：`passwd`  
命令所在路径：`/usr/bin/passwd`  
执行权限：所有用户  
功能描述：设置用户密码

[[info]]
|普通用户不能设置简单的密码，但 root 用户可以

### who

命令名称：`who`  
命令所在路径：`/usr/bin/who`  
执行权限：所有用户  
功能描述：查看用户登录信息

[[info]]
|显示`登录用户名 登录终端（tty表示本地登录 pts远程终端 数字表示编号） 登陆时间 IP登陆`

### w

命令名称：`w`  
命令所在路径：`/usr/bin/w`  
执行权限：所有用户  
功能描述：查看用户登录详细信息

[[info]]
|_ 首行显示服务器信息，相当于`uptime`  
|_ `IDLE`表示空闲时间 `JCPU`表示累计占用 CPU 的时间 `PCPU`表示最近操作占用 CPU 的时间 `WHAT`表示执行的操作

## 压缩解压命令

### 常见的压缩格式

- .gz - `gzip`
- .tar.gz - `tar`, `gzip`
- .zip - `zip`
- .bz2 - `bzip2`
- .tar.bz2 - `tar`, `bzip2`

### gzip

命令名称：`gzip`  
命令所在路径：`/bin/gzip`  
执行权限：所有用户  
功能描述：压缩文件  
选项：

- `-d` 解压，相当于`gunzip`

[[info]]
|`gzip`只能压缩文件，而且不保留源文件

### gunzip

命令名称：`gunzip`  
命令所在路径：`/bin/gunzip`  
执行权限：所有用户  
功能描述：解压缩.gz 格式的压缩文件

### tar

命令名称：`tar`  
命令所在路径：`/bin/tar`  
执行权限：所有用户  
功能描述：打包目录  
选项：

- `-c` 打包
- `-v` 显示详细信息
- `-f` 指定文件名
- `-z` 打包同时压缩，格式为`.gz`
- `-j` 打包同时压缩，格式为`.bz2`

[[info]]
|打包同时压缩 `-zcf` 生成`.tar.gz`格式的压缩文件

### tar-1

命令名称：`tar`  
命令所在路径：`/bin/tar`  
执行权限：所有用户  
功能描述：打包目录  
选项：

- `-x` 解包
- `-v` 显示详细信息
- `-f` 指定文件名
- `-z` 解压缩`.gz`格式
- `-j` 解压缩`.bz2`格式

[[info]]
|最常用的解包命令 `tar -zxf`

### zip

命令名称：`zip`  
命令所在路径：`/usr/bin/zip`  
执行权限：所有用户  
功能描述：压缩文件或目录  
选项：

- `-r` 压缩目录

[[info]]
|基本上 Windows 上的压缩软件都支持 Linux 上的压缩文件，Linux 则不

### unzip

命令名称：`unzip`  
命令所在路径：`/usr/bin/unzip`  
执行权限：所有用户  
功能描述：解压.zip 格式的压缩文件

### bzip2

命令名称：`bzip2`  
命令所在路径：`/usr/bin/bzip2`  
执行权限：所有用户  
功能描述：压缩文件  
选项：

- `-k` 保留原文件

[[info]]
|_ `bzip2`压缩能力较强  
|_ 想要生成`.bz2`格式的压缩包，使用`tar -cjf`

### bunzip2

命令名称：`bunzip2`  
命令所在路径：`/usr/bin/bunzip2`  
执行权限：所有用户  
功能描述：解压缩  
选项：

- `-k` 保留压缩包

[[info]]
|_ `bzip2`压缩能力较强  
|_ 想要生成`.bz2`格式的压缩包，使用`tar -cjf`

## 网络命令

### write

命令名称：`write`  
命令所在路径：`/usr/bin/write`  
执行权限：所有用户  
功能描述：给用户发信息，以`Ctrl+D`保存结束

[[info]]
|只能用以给在线用户发送信息

### wall

命令名称：`wall`  
命令所在路径：`/usr/bin/wall`  
执行权限：所有用户  
功能描述：发广播消息

[[info]]
|自己也会收到信息

### ping

命令名称：`ping`  
命令所在路径：`/bin/ping`  
执行权限：所有用户  
功能描述：测试网络联通性  
选项：

- `-c` 指定次数

### ifconfig

命令名称：`ifconfig`  
命令英文原意：interface configure  
命令所在路径：`/sbin/ifconfig`  
执行权限：root  
功能描述：查看和设置网卡信息

[[info]]
|_ `lo`是回环网卡，所有的操作系统都有，用于本机测试和通信，地址也是固定的（127.0.0.1）  
|_ 基本接触到网络都是以太网（Ethernet）

### mail

命令名称：`mail`  
命令所在路径：`/bin/mail`  
执行权限：所有用户  
功能描述：查看和发送电子邮件，以`Ctrl+D`保存发送

[[info]]
|_ 利用的本机内存，和网络邮箱不同  
|_ 系统有时候会给 root 用户发送一些系统信息

### last

命令名称：`last`  
命令所在路径：`/usr/bin/last`  
执行权限：所有用户  
功能描述：列出目前与过去登入系统的用户信息

### lastlog

命令名称：`lastlog`  
命令所在路径：`/usr/bin/lastlog`  
执行权限：所有用户  
功能描述：列出用户列表和最后一次登录的时间  
选项：

- `-u` 指定用户，后接用户的 UID 号

### traceroute

命令名称：`traceroute`  
命令所在路径：`/bin/traceroute`  
执行权限：所有用户  
功能描述：显示数据包到主机间的路径

### netstat

命令名称：`netstat`  
命令所在路径：`/bin/netstat`  
执行权限：所有用户  
功能描述：显示网络相关信息  
选项：

- `-t` TCP 协议 握手三次 安全稳定
- `-u` UDP 协议 不握手 快
- `-l` 监听
- `-r` 路由
- `-n` 显示 IP 地址和端口号

[[info]]
|_ Linux 命令中选项基本不区分先后  
|_ `-tlun` 查询当前计算机下开启的端口  
|_ UDP 没有监听一说  
|_ `-an` 查看所有的监听信息，可以查看到正在连接的网络端口  
|\* `-rn` 查看本机路由表，可以查看网关

### setup

命令名称：`setup`  
命令所在路径：`/usr/bin/setup`  
执行权限：所有用户  
功能描述：配置网络

[[info]]
|_ 只存在于 Red Hat 中  
|_ DHCP 设置`*`相当于自动获取，一般使用环境下是不存在 DHCP 服务器的  
|_ 修改设置后需要`service network restart`重启生效  
|_ `ifconfig`设置重启后失效，`setup`设置重启后依然生效

### 挂载命令（补充）：mount

命令名称：`mount`  
命令所在路径：`/bin/mount`  
执行权限：所有用户  
功能描述：挂载  
语法：`mount [-t 文件系统] 设备文件名 挂载点`

[[info]]
|_ 命令行不能自动挂载  
|_ `umount`命令卸载，要退出挂载点才能卸载，否则会提示正在使用中

## 关机重启命令

### shutdown

命令名称：`shutdown`  
命令所在路径：`/sbin/shutdown`  
执行权限：所有用户  
功能描述：关机  
选项：

- `-c` 取消前一个关机命令
- `-h` 关机
- `-r` 重启

[[info]]
|_ 后面可以指定时间  
|_ 只有`shutdown`命令会保存它正在启动的服务，更加安全

### 其他关机命令

- `halt`
- `poweroff`（直接断电）
- `init 0`

### 其他重启命令

- `reboot`
- `init 6`

### 系统运行级别

- 0 关机
- 1 单用户（启动最核心程序，类似于 Windows 的安全模式，没有图形界面）
- 2 不完全多用户，不含 NFS 服务（NFS：网络文件系统，没有图形界面）
- 3 完全多用户（没有图形界面）
- 4 未分配
- 5 图形界面（X/XWindow 一般表示图形界面）
- 6 重启

P.S. 可以通过`cat /etc/inittab`修改当前系统运行级别  
P.S.S. 通过`runlevel`查询系统之前和当前运行级别

### 退出登录命令：logout

功能描述：退回登录界面
